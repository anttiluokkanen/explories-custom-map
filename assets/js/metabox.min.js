!function (o) { o(document).ready(function () { var e = ecmWP_Metabox.mode; o("#_ecm_mode").val(e), "0" == o("input[name='_ecm_on']:checked").val() ? o(".cmb-row").slice(1).hide() : (o("#_ecm_gpx").closest(".cmb-row").hide(), o("#_ecm_color").closest(".cmb-row").hide(), o("#_ecm_symbol_select").closest(".cmb-row").show()), o("input[name='_ecm_on']").change(function () { "0" == o("input[name='_ecm_on']:checked").val() ? o(".cmb-row").slice(1).hide() : (o(".cmb-row").slice(1).show(), o("#_ecm_symbol_select").closest(".cmb-row").show(), "route" == o("#_ecm_mode").val() ? (o("#_ecm_gpx").closest(".cmb-row").show(), o("#_ecm_color").closest(".cmb-row").show()) : (o("#_ecm_gpx").closest(".cmb-row").hide(), o("#_ecm_color").closest(".cmb-row").hide())) }), o("#_ecm_mode").change(function () { e = o(this).val(), o(".controls-marker").addClass("hidden"), o(".controls-route").addClass("hidden"), o(".controls-" + e).removeClass("hidden"), o("#_ecm_symbol_select").closest(".cmb-row").show(), "route" == e ? (o("#_ecm_gpx").closest(".cmb-row").show(), o("#_ecm_color").closest(".cmb-row").show()) : (o("#_ecm_gpx").closest(".cmb-row").hide(), o("#_ecm_color").closest(".cmb-row").hide()), ECMAdminMap.setMode(e) }), o("#getRouteBtn").click(function () { var e = ECMAdminMap.getRouteWaypoints(); e ? (o("#waypoints").html(JSON.stringify(e, null, 2)), o("#_ecm_coordinates").val(JSON.stringify(e, null, 0))) : alert("Draw a route on the map first") }), o(document.getElementById("_ecm_symbol_select")).ddslick({ data: ecmWP_Metabox.symbols, width: 350, imagePosition: "left", onSelected: function (e) { o(document.getElementById("_ecm_symbol")).val(e.selectedData.value) } }) }) }(jQuery);
